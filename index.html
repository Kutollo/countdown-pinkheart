<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Countdown to You ðŸ’–</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body, html {
    height: 100%;
    font-family: 'Segoe UI', sans-serif;
    color: white;
    text-align: center;
    overflow: hidden;
    background: black;
  }
  video {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    z-index: -2;
  }
  .overlay {
    height: 100%;
    width: 100%;
    background: rgba(0,0,0,0.55);
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding: 1rem;
  }
  h1 {
    font-size: 2rem;
    margin-top: 1rem;
    animation: fadeIn 2s ease-in-out;
  }
  .photo {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    border: 4px solid white;
    object-fit: cover;
    box-shadow: 0 0 20px rgba(255,255,255,0.4);
    margin: 1rem 0;
    animation: heartbeat 3s infinite ease-in-out;
  }
  @keyframes heartbeat {
    0%,100% {transform: scale(1);}
    50% {transform: scale(1.06);}
  }
  .countup, .countdown {
    font-size: 1.2rem;
    font-weight: bold;
    margin: 0.5rem 0;
    animation: fadeIn 2s ease-in-out;
  }
  .message {
    font-size: 1rem;
    margin: 1rem;
    animation: fadeIn 3s ease-in-out;
    max-width: 600px;
  }
  .lyrics {
    font-size: 1rem;
    max-width: 80%;
    margin: 1rem auto;
    opacity: 0;
    animation: fadeLyrics 20s infinite;
    animation-delay: 10s;
  }
  @keyframes fadeLyrics {
    0%,100% {opacity: 0;}
    10%,90% {opacity: 1;}
  }
  .audio-button {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: hotpink;
    border: none;
    border-radius: 25px;
    color: white;
    font-size: 0.95rem;
    padding: 12px 20px;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(255,105,180,0.5);
    z-index: 5;
    animation: pulse 3s infinite;
  }
  @keyframes pulse {
    0%,100% {transform: scale(1);}
    50% {transform: scale(1.05);}
  }
  .hidden {
    display: none;
  }
  .final-message {
    font-size: 1.4rem;
    margin-top: 1.5rem;
    color: #ffe4ec;
    animation: fadeIn 2s ease-in-out;
  }
  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(10px);}
    to {opacity: 1; transform: translateY(0);}
  }
</style>
</head>
<body>
<video autoplay muted loop playsinline>
  <source src="video.M4V" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<div class="overlay">
  <div class="countup" id="lastSeen">Loading...</div>
  <img src="PICTURE.JPEG" alt="My Love" class="photo" />
  <div class="countdown" id="timer">Loading countdown...</div>
  <div class="message" id="message">
    Iâ€™ve missed your voice, your smile, your everything. Every second brings me closer to seeing you again. Iâ€™ll be waiting with all my heart ðŸ’ž
  </div>
  <div class="lyrics" id="lyrics">I could do this for hours and hours and hours...</div>
  <div id="final" class="hidden">
    <div class="final-message">Youâ€™re here now, and Iâ€™m wrapped in the warmth of your love ðŸ’˜</div>
  </div>
</div>
<button class="audio-button" id="playBtn">Wanna hear a secret? Tap me ðŸ©µðŸŽ¶</button>
<audio id="song" loop>
  <source src="hrs-and-hrs.mp3" type="audio/mpeg" />
</audio>

<script>
  const playBtn = document.getElementById("playBtn");
  const song = document.getElementById("song");
  const lastSeen = document.getElementById("lastSeen");
  const timer = document.getElementById("timer");
  const message = document.getElementById("message");
  const finalMessageContainer = document.getElementById("final");

  // Fixed last seen date/time (Feb 3, 2025, 7:00 AM)
  const lastSeenDate = new Date(2025, 1, 3, 7, 0, 0); // Month is 0-based (1=Feb)

  // Countdown target: June 4, 2025, 2:00 PM
  const countdownTarget = new Date(2025, 5, 4, 14, 0, 0);

  // Scheduled messages for June 4 at specific times
  const scheduledMessages = [
    { hour: 7, min: 0, text: "Good morning, my love!" },
    { hour: 8, min: 0, text: "Wishing you a safe journey, my heart beats with yours across every mile." },
    { hour: 9, min: 0, text: "As you check in, know that Iâ€™m already counting down to hold you close." },
    { hour: 10, min: 55, text: "The plane takes flight, but my thoughts are already wrapped around you." },
    { hour: 12, min: 55, text: "Youâ€™re almost home, and my heart canâ€™t wait to welcome you." },
    { hour: 14, min: 0, text: "Youâ€™re here now, and Iâ€™m wrapped in the warmth of your love ðŸ’˜" }
  ];

  function updateLastSeen() {
    const now = new Date();
    let diffMs = now - lastSeenDate;
    if(diffMs < 0) diffMs = 0;
    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
    const diffHours = Math.floor((diffMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    lastSeen.textContent = `Itâ€™s been ${diffDays} days and ${diffHours} hours since I last saw you ðŸ’”`;
  }

  function formatCountdown(diffMs) {
    const d = Math.floor(diffMs / (1000 * 60 * 60 * 24));
    const h = Math.floor((diffMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const m = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
    const s = Math.floor((diffMs % (1000 * 60)) / 1000);
    return `${d}d ${h}h ${m}m ${s}s`;
  }

  function getScheduledMessage(now) {
    if(now.getFullYear() === 2025 && now.getMonth() === 5 && now.getDate() === 4) {
      const nowMinutes = now.getHours() * 60 + now.getMinutes();
      let lastMsg = "";
      for(const msg of scheduledMessages) {
        const msgMinutes = msg.hour * 60 + msg.min;
        if(nowMinutes >= msgMinutes) lastMsg = msg.text;
      }
      return lastMsg || "Counting down to being with MyPinkHeart ðŸ’—";
    }
    return "Counting down to being with MyPinkHeart ðŸ’—";
  }

  function updateTimers() {
    const now = new Date();

    // Update last seen
    updateLastSeen();

    // Update countdown
    const diff = countdownTarget - now;
    if(diff > 0) {
      timer.textContent = formatCountdown(diff);
      finalMessageContainer.classList.add("hidden");
    } else {
      timer.textContent = "Countdown complete!";
      finalMessageContainer.classList.remove("hidden");
    }

    // Update message according to schedule
    message.textContent = getScheduledMessage(now);
  }

  // Run immediately
  updateTimers();

  // Then update every second
  setInterval(updateTimers, 1000);

  // Audio button toggle
  playBtn.addEventListener("click", () => {
    if(song.paused) {
      song.play();
      playBtn.textContent = "Pause the secret ðŸ©µðŸŽ¶";
    } else {
      song.pause();
      playBtn.textContent = "Wanna hear a secret? Tap me ðŸ©µðŸŽ¶";
    }
  });
</script>
</body>
</html>
